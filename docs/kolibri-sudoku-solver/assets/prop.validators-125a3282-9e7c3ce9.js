import{r as X}from"./a11y.tipps-583a2096-ea796d66.js";import{o as h,J as L,t as ae,d as le}from"./index-294842fb.js";/*!
 * KoliBri - The accessible HTML-Standard
 */const F=(r,e)=>{e.forEach(t=>{r.has(t)===!1&&r.add(t)})},G=(r,e=document)=>{if(e instanceof Document||e instanceof HTMLElement||e instanceof ShadowRoot){const t=new Set;F(t,e.querySelectorAll(r));const n=e.querySelectorAll('[class*="hydrated"]');for(let o=0;o<n.length;o++){const s=n[o].shadowRoot;F(t,G(r,typeof s=="object"&&s!==null?s:n[o]))}return Array.from(t)}throw new Error("The parameter document for the method querySelectorAll is not type of Document, HTMLElement or ShadowRoot.")},Q=(r,e=document)=>{if(e instanceof Document||e instanceof HTMLElement||e instanceof ShadowRoot){let t=e.querySelector(r);if(t===null){const n=e.querySelectorAll('[class*="hydrated"]');for(let o=0;o<n.length;o++){const s=n[o].shadowRoot;if(t=Q(r,typeof s=="object"&&s!==null?s:n[o]),t!==null)break}}return t}throw new Error("The parameter document for the method querySelector is not type of Document, HTMLElement or ShadowRoot.")};var g=Z,ue=Z,he=be,de=ge,fe=me,pe=ve;function Z(r){var e=v(r);return e.length==3?e.concat(255):(e[3]=Math.round(e[3]),e)}function be(r){var e=v(r);return{r:e[0],g:e[1],b:e[2],a:e.length==3?255:Math.round(e[3])}}function ge(r){var e=v(r);return e.length==3&&e.push(255),e[3]==255?"rgb("+e[0]+", "+e[1]+", "+e[2]+")":e[3]==0?"rgba("+e[0]+", "+e[1]+", "+e[2]+", 0)":"rgba("+e[0]+", "+e[1]+", "+e[2]+", "+String(e[3]/255).substr(1)+")"}function me(r){(e=v(r)).length==3&&e.push(255);var e,t=e[3]==255,n=w(e[0]),o=w(e[1]),s=w(e[2]),i=ye(n,o,s,e=w(Math.round(e[3])));return t?i?"#"+n.charAt(0)+o.charAt(0)+s.charAt(0):"#"+n+o+s:i?"#"+n.charAt(0)+o.charAt(0)+s.charAt(0)+e.charAt(0):"#"+n+o+s+e}function ve(r){var e=v(r);return e.length==3?e.push(255):e[3]=Math.round(e[3]),(e[3]<<24>>>0|e[0]<<16|e[1]<<8|e[2])>>>0}function v(r){return typeof r=="string"?we(r=r.toLowerCase())||Se(r)||xe(r)||Oe(r)||ke(r)||[0,0,0,255]:Ne(r)||Ee(r)||Ae(r)||[0,0,0,255]}function w(r){var e=r.toString(16);return e.length==1?"0"+e:e}function ye(r,e,t,n){var o=["ff","00","11","22","33","44","55","66","77","88","99","aa","bb","cc","dd","ee"];return o.indexOf(r)!=-1&&o.indexOf(e)!=-1&&o.indexOf(t)!=-1&&o.indexOf(n)!=-1}function we(r){return r=="red"?[255,0,0]:r=="green"?[0,255,0]:r=="blue"?[0,0,255]:r=="black"?[0,0,0]:r=="white"?[255,255,255]:r=="cyan"?[0,255,255]:r=="gray"||r=="grey"?[128,128,128]:r=="magenta"||r=="pink"?[255,0,255]:r=="yellow"?[255,255,0]:void 0}function b(r){return r.length==1?parseInt(r+r,16):parseInt(r,16)}function Se(r){var e=r.replace(/^#/,""),t=e.length;if(t==3||t==4){var n=b(e[0]),o=b(e[1]),s=b(e[2]),i=t==3?255:b(e[3]);return isNaN(n)||isNaN(o)||isNaN(s)||isNaN(i)?void 0:[n,o,s,i]}}function xe(r){var e=r.replace(/^#/,""),t=e.length;if(t==6||t==8){var n=b(e.slice(0,2)),o=b(e.slice(2,4)),s=b(e.slice(4,6)),i=t==6?255:b(e.slice(6,8));return isNaN(n)||isNaN(o)||isNaN(s)||isNaN(i)?void 0:[n,o,s,i]}}function a(r,e){return typeof r!="number"||e===!0&&Math.floor(r)!==r?-1:r>=0&&r<=255?r:-1}function Ne(r){if(Object.prototype.toString.call(r)==="[object Object]"&&Object.getPrototypeOf(r)===Object.getPrototypeOf({})){var e=a(r.r!=null?r.r:r.red!=null?r.red:0,!0),t=a(r.g!=null?r.g:r.green!=null?r.green:0,!0),n=a(r.b!=null?r.b:r.blue!=null?r.blue:0,!0),o=a(r.a!=null?r.a:r.alpha!=null?r.alpha:255,!0);if(e!=-1&&t!=-1&&n!=-1&&o!=-1)return[e,t,n,o]}}function Ee(r){if(Array.isArray(r)&&(r.length==3||r.length==4)){var e=a(r[0],!0),t=a(r[1],!0),n=a(r[2],!0),o=a(r[3]!=null?r[3]:255,!0);if(e!=-1&&t!=-1&&n!=-1&&o!=-1)return[e,t,n,o]}}function Ae(r){if(typeof r=="number"&&Math.floor(r)==r&&r<=4294967295&&r>=0)return[r>>16&255,r>>8&255,255&r,r>>24&255]}function Oe(r){if(r.substr(0,4)=="rgb("){var e=(r=r.match(/^rgb\(([^)]+)\)/)[1]).split(/ *, */).map(Number),t=a(e[0],!0),n=a(e[1],!0),o=a(e[2],!0);if(t!=-1&&n!=-1&&o!=-1)return[t,n,o,255]}}function ke(r){if(r.substr(0,5)=="rgba("){var e=(r=r.match(/^rgba\(([^)]+)\)/)[1]).split(/ *, */).map(Number),t=a(e[0],!0),n=a(e[1],!0),o=a(e[2],!0),s=a(255*e[3]);if(t!=-1&&n!=-1&&o!=-1&&s!=-1)return[t,n,o,s]}}function f(r){return typeof r=="function"}function ee(r){const e=r(t=>{Error.call(t),t.stack=new Error().stack});return e.prototype=Object.create(Error.prototype),e.prototype.constructor=e,e}g.arr=ue,g.obj=he,g.css=de,g.hex=fe,g.num=pe;const O=ee(r=>function(e){r(this),this.message=e?`${e.length} errors occurred during unsubscription:
${e.map((t,n)=>`${n+1}) ${t.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=e});function $(r,e){if(r){const t=r.indexOf(e);0<=t&&r.splice(t,1)}}class p{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;const{_parentage:t}=this;if(t)if(this._parentage=null,Array.isArray(t))for(const s of t)s.remove(this);else t.remove(this);const{initialTeardown:n}=this;if(f(n))try{n()}catch(s){e=s instanceof O?s.errors:[s]}const{_finalizers:o}=this;if(o){this._finalizers=null;for(const s of o)try{U(s)}catch(i){e=e??[],i instanceof O?e=[...e,...i.errors]:e.push(i)}}if(e)throw new O(e)}}add(e){var t;if(e&&e!==this)if(this.closed)U(e);else{if(e instanceof p){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=(t=this._finalizers)!==null&&t!==void 0?t:[]).push(e)}}_hasParent(e){const{_parentage:t}=this;return t===e||Array.isArray(t)&&t.includes(e)}_addParent(e){const{_parentage:t}=this;this._parentage=Array.isArray(t)?(t.push(e),t):t?[t,e]:e}_removeParent(e){const{_parentage:t}=this;t===e?this._parentage=null:Array.isArray(t)&&$(t,e)}remove(e){const{_finalizers:t}=this;t&&$(t,e),e instanceof p&&e._removeParent(this)}}p.EMPTY=(()=>{const r=new p;return r.closed=!0,r})();const re=p.EMPTY;function te(r){return r instanceof p||r&&"closed"in r&&f(r.remove)&&f(r.add)&&f(r.unsubscribe)}function U(r){f(r)?r():r.unsubscribe()}const A={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},E={setTimeout(r,e,...t){const{delegate:n}=E;return n!=null&&n.setTimeout?n.setTimeout(r,e,...t):setTimeout(r,e,...t)},clearTimeout(r){const{delegate:e}=E;return((e==null?void 0:e.clearTimeout)||clearTimeout)(r)},delegate:void 0};function _e(r){E.setTimeout(()=>{const{onUnhandledError:e}=A;if(!e)throw r;e(r)})}function W(){}const Pe=q("C",void 0,void 0);function Ce(r){return q("E",void 0,r)}function Me(r){return q("N",r,void 0)}function q(r,e,t){return{kind:r,value:e,error:t}}function N(r){r()}class ne extends p{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,te(e)&&e.add(this)):this.destination=He}static create(e,t,n){return new j(e,t,n)}next(e){this.isStopped?_(Me(e),this):this._next(e)}error(e){this.isStopped?_(Ce(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?_(Pe,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const Te=Function.prototype.bind;function k(r,e){return Te.call(r,e)}class $e{constructor(e){this.partialObserver=e}next(e){const{partialObserver:t}=this;if(t.next)try{t.next(e)}catch(n){S(n)}}error(e){const{partialObserver:t}=this;if(t.error)try{t.error(e)}catch(n){S(n)}else S(e)}complete(){const{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(t){S(t)}}}class j extends ne{constructor(e,t,n){let o;if(super(),f(e)||!e)o={next:e??void 0,error:t??void 0,complete:n??void 0};else{let s;this&&A.useDeprecatedNextContext?(s=Object.create(e),s.unsubscribe=()=>this.unsubscribe(),o={next:e.next&&k(e.next,s),error:e.error&&k(e.error,s),complete:e.complete&&k(e.complete,s)}):o=e}this.destination=new $e(o)}}function S(r){_e(r)}function je(r){throw r}function _(r,e){const{onStoppedNotification:t}=A;t&&E.setTimeout(()=>t(r,e))}const He={closed:!0,next:W,error:je,complete:W},De=typeof Symbol=="function"&&Symbol.observable||"@@observable";function Le(r){return r}function qe(r){return r.length===0?Le:r.length===1?r[0]:function(e){return r.reduce((t,n)=>n(t),e)}}class m{constructor(e){e&&(this._subscribe=e)}lift(e){const t=new m;return t.source=this,t.operator=e,t}subscribe(e,t,n){const o=Ie(e)?e:new j(e,t,n);return N(()=>{const{operator:s,source:i}=this;o.add(s?s.call(o,i):i?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(e){try{return this._subscribe(e)}catch(t){e.error(t)}}forEach(e,t){return new(t=B(t))((n,o)=>{const s=new j({next:i=>{try{e(i)}catch(d){o(d),s.unsubscribe()}},error:o,complete:n});this.subscribe(s)})}_subscribe(e){var t;return(t=this.source)===null||t===void 0?void 0:t.subscribe(e)}[De](){return this}pipe(...e){return qe(e)(this)}toPromise(e){return new(e=B(e))((t,n)=>{let o;this.subscribe(s=>o=s,s=>n(s),()=>t(o))})}}function B(r){var e;return(e=r??A.Promise)!==null&&e!==void 0?e:Promise}function ze(r){return r&&f(r.next)&&f(r.error)&&f(r.complete)}function Ie(r){return r&&r instanceof ne||ze(r)&&te(r)}m.create=r=>new m(r);const Je=ee(r=>function(){r(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});class z extends m{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(e){const t=new oe(this,this);return t.operator=e,t}_throwIfClosed(){if(this.closed)throw new Je}next(e){N(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const t of this.currentObservers)t.next(e)}})}error(e){N(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=e;const{observers:t}=this;for(;t.length;)t.shift().error(e)}})}complete(){N(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:e}=this;for(;e.length;)e.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var e;return((e=this.observers)===null||e===void 0?void 0:e.length)>0}_trySubscribe(e){return this._throwIfClosed(),super._trySubscribe(e)}_subscribe(e){return this._throwIfClosed(),this._checkFinalizedStatuses(e),this._innerSubscribe(e)}_innerSubscribe(e){const{hasError:t,isStopped:n,observers:o}=this;return t||n?re:(this.currentObservers=null,o.push(e),new p(()=>{this.currentObservers=null,$(o,e)}))}_checkFinalizedStatuses(e){const{hasError:t,thrownError:n,isStopped:o}=this;t?e.error(n):o&&e.complete()}asObservable(){const e=new m;return e.source=this,e}}z.create=(r,e)=>new oe(r,e);class oe extends z{constructor(e,t){super(),this.destination=e,this.source=t}next(e){var t,n;(n=(t=this.destination)===null||t===void 0?void 0:t.next)===null||n===void 0||n.call(t,e)}error(e){var t,n;(n=(t=this.destination)===null||t===void 0?void 0:t.error)===null||n===void 0||n.call(t,e)}complete(){var e,t;(t=(e=this.destination)===null||e===void 0?void 0:e.complete)===null||t===void 0||t.call(e)}_subscribe(e){var t,n;return(n=(t=this.source)===null||t===void 0?void 0:t.subscribe(e))!==null&&n!==void 0?n:re}}var Re=.2126,Fe=.7152,Ue=.0722,P=1/12.92;function C(r){return Math.pow((r+.055)/1.055,2.4)}function K(r){var e=r[0]/255,t=r[1]/255,n=r[2]/255,o=e<=.03928?e*P:C(e),s=t<=.03928?t*P:C(t),i=n<=.03928?n*P:C(n);return o*Re+s*Fe+i*Ue}function Y(r){var e=255;(r=r.replace(/^#/,"")).length===8&&(e=parseInt(r.slice(6,8),16),r=r.substring(0,6)),r.length===4&&(e=parseInt(r.slice(3,4).repeat(2),16),r=r.substring(0,3)),r.length===3&&(r=r[0]+r[0]+r[1]+r[1]+r[2]+r[2]);var t=parseInt(r,16);return[t>>16,t>>8&255,255&t,e]}function We(r,e){return(Math.max(r,e)+.05)/(Math.min(r,e)+.05)}function Be(r,e){return We(K(r),K(e))}function Ke(r,e){return Be(Y(r),Y(e))}function Ye(r){return r>=7?"AAA":r>=4.5?"AA":r>=3?"AA Large":"Fail"}const Ve=/\[object Object\]/,M=(r,e)=>{typeof r=="string"&&Ve.test(r)||e()},Xe=(r,e)=>{typeof r=="string"&&r===""||e()},lr=(r,e)=>{ae()&&(h.debug([r,e]),h.debug("↑ We propagate the (submit) event to this target.")),Object.defineProperty(r,"target",{value:e,writable:!1})},Ge=r=>{var e,t,n;(e=r.nextHooks)===null||e===void 0||e.forEach((o,s)=>{var i;const d=o.get("beforePatch");typeof d=="function"&&d((i=r.nextState)===null||i===void 0?void 0:i.get(s),r.nextState,r,s)}),((t=r.nextState)===null||t===void 0?void 0:t.size)>0&&(r.state=Object.assign(Object.assign({},r.state),Object.fromEntries(r.nextState)),delete r.nextState,(n=r.nextHooks)===null||n===void 0||n.forEach((o,s)=>{const i=o.get("afterPatch");typeof i=="function"&&i(r.state[s],r.state,r,s)})),delete r.nextHooks},H=(r,e,t,n={})=>{var o,s;r.nextHooks===void 0&&(r.nextHooks=new Map),r.nextState===void 0&&(r.nextState=new Map),r.nextState.get(e)!==t&&(!(r.nextHooks.get(e)instanceof Map)&&r.nextHooks.set(e,new Map),typeof n.afterPatch=="function"&&((o=r.nextHooks.get(e))===null||o===void 0||o.set("afterPatch",n.afterPatch)),typeof n.beforePatch=="function"&&((s=r.nextHooks.get(e))===null||s===void 0||s.set("beforePatch",n.beforePatch)),r.nextState.set(e,t),Ge(r))},Qe=(r,e,t,n)=>{X(`[${r.constructor.name}] Der Property-Wert (${t}) für '${e}' ist nicht valide. Folgende Werte sind erlaubt: ${Array.from(n).join(", ")}`)};function I(r,e,t,n,o,s={}){t(o)?H(r,e,o,s.hooks):o!=null||s.required?(s.required||n.add(null),Qe(r,e,o,n)):H(r,e,s.defaultValue,s.hooks)}const ur=(r,e,t,n)=>{I(r,e,o=>typeof o=="boolean",new Set(["Boolean {true, false}"]),t,n)},hr=(r,e,t,n={})=>{const o=typeof n.minLength=="number"?n==null?void 0:n.minLength:0;I(r,e,s=>typeof s=="string"&&s.length>=o&&((n==null?void 0:n.maxLength)===void 0||s.length<=n.maxLength),new Set(["String"]),t,n)},dr=(r,e,t,n)=>{I(r,e,o=>typeof o=="number"&&((n==null?void 0:n.min)===void 0||typeof(n==null?void 0:n.min)=="number"&&o>=n.min)&&((n==null?void 0:n.max)===void 0||typeof(n==null?void 0:n.max)=="number"&&o<=n.max),new Set(["Number"]),t,n)},fr=(r,e,t,n,o=i=>i==i,s={})=>{Xe(n,()=>{M(n,()=>{n===void 0&&(n=[]);try{try{n=ie(n)}catch{}if(Array.isArray(n)){const i=n.find(d=>!t(d));i===void 0&&o(n)?H(r,e,n,s.hooks):M(i,()=>{throw h.debug(i),new Error("↑ Das Schema für das Property (_options) ist nicht valide. Der Wert wird nicht geändert.")})}else M(n,()=>{throw h.debug(n),new Error("↑ Das Schema für das Property (_options) ist nicht valide. Der Wert wird nicht geändert.")})}catch(i){h.debug(i)}})})},Ze=/^(true|false)$/,er=/^-?(0|[1-9]\d*)$/,rr=/^-?(0.|[1-9]\d*.)\d*[1-9]$/,pr=r=>{const e=typeof r,t=`${r}`;if(typeof r=="string"){if(Ze.test(r))r=r==="true";else if(er.test(r))r=parseInt(r);else if(rr.test(r))r=parseFloat(r);else if(se.test(r))try{r=ie(r)}catch{}}return e!==typeof r&&X(`You have used a stringified property value (${t} to ${JSON.stringify(r)}) which type switched from ${e} to ${typeof r}!`),r},tr=r=>{try{return JSON.stringify(r).replace(/"/g,"'")}catch{throw h.warn(["stringifyJson",r]),h.error("↑ Das JSON konnte nicht in einen String umgewandelt werden. Es wird ein stringifizierbares JSON erwartet."),new Error}},se=/^[{[]/,ie=r=>{if(typeof r=="string")try{return JSON.parse(r)}catch{if(se.test(r))try{return JSON.parse(r.replace(/'/g,'"'))}catch{h.warn(["parseJson",r]),h.error("↑ Der JSON-String konnte nicht geparsed werden. Achten Sie darauf, dass einfache Anführungszeichen im Text maskiert werden (&#8216;).")}}throw new Error},nr=r=>typeof r=="boolean"?r===!0?"true":"false":void 0,br=r=>typeof r=="string"?r:nr(r),or=(r,e)=>Q(r,e||L()),sr=(r,e)=>G(r,e||L());let T=null;const ce=()=>(T=T||{backgroundColor:"#00000000",color:"#00000000",domNode:L().body,level:"Fail",score:1},T),V=/(\d+, ){3}0\)/,D=(r,e=ce())=>{const t=getComputedStyle(r),n=V.test(t.backgroundColor)?e.backgroundColor:g.hex(t.backgroundColor),o=V.test(t.color)?e.color:g.hex(t.color),s=Ke(n,o),i={backgroundColor:n,color:o,domNode:r,level:Ye(s),score:s};return s<4.5&&h.error(["Color-Contrast-Error",{backgroundColor:i.backgroundColor,color:i.color,level:i.level,score:i.score},i.domNode]),i},ir=(r,e=ce())=>{e.domNode instanceof HTMLElement&&(e=D(e.domNode,e));const t=e.domNode.querySelector(r);if(t===null){const n=e.domNode.querySelectorAll('[class="hydrated"]');for(let o=0;o<n.length&&(e.domNode=n[o],(e=ir(r,e)).domNode===null);o++);return e}return D(t,e)};class u{static queryHtmlElementColors(e,t,n=!1,o=!0){let s=null;if(n===!0||u.executionLock===!1)if(n===!1&&(u.cache.clear(),u.cache.set(t.domNode,t),u.executionLock=!0,o===!0&&h.debug("[KoliBriUtils] Color contrast analysis started...")),e===t.domNode)s=t;else{const i=new Set;if(t.domNode.shadowRoot){const c=t.domNode.shadowRoot.children;for(let l=0;l<c.length;l++)i.add(c[l])}const d=t.domNode;if(typeof d.assignedNodes=="function"){const c=d.assignedNodes();for(let l=0;l<c.length;l++)c[l]instanceof HTMLElement&&i.add(c[l])}const J=t.domNode.children;for(let c=0;c<J.length;c++)i.add(J[c]);const y=Array.from(i);for(let c=0;c<y.length;c++){let l=u.cache.get(y[c]);l===void 0&&(l=D(y[c],t)),u.cache.set(y[c],l);const R=u.queryHtmlElementColors(e,l,!0,!1);if(R!==null){s=R;break}}}else h.debug("[KoliBriUtils] Call aborted because a color contrast analysis is currently being executed.");return n===!1&&(o===!0&&h.debug(`[KoliBriUtils] Color contrast analysis finished (${u.cache.size} DOM elements are analysed).`),u.executionLock=!1,u.cache.clear()),s}}u.executionLock=!1,u.cache=new Map;const gr=new z;class x{}x.patchTheme=le,x.querySelector=or,x.querySelectorAll=sr,x.stringifyJson=tr;export{H as $,lr as A,br as B,hr as C,I as D,Ke as E,tr as F,fr as J,or as K,M,dr as P,sr as R,ur as T,pr as U,D as V,ie as W,ir as X,u as Z,g as a,x as e,Xe as j,nr as q,gr as t};
