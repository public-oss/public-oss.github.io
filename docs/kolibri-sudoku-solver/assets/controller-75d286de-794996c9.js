import{C as s,T as i,$ as r,M as l,W as d}from"./prop.validators-125a3282-9e7c3ce9.js";import{o as p}from"./hide-label-2c0bf25c-d19bd65c.js";import{u as m}from"./label-0d258cd5-df9469c6.js";import{c as u,n as v,r as _}from"./a11y.tipps-583a2096-ea796d66.js";import{t as a,o as h}from"./events-2bb1065b-884d1e5b.js";import{r as f}from"./tab-index-5e7494f0-62fb63d7.js";import{n as b}from"./associated.controller-103e6fb9-6fcd78c1.js";/*!
 * KoliBri - The accessible HTML-Standard
 */const F=n=>{const t=typeof n._error=="string"&&n._error.length>0&&n._touched===!0,o=typeof n._hint=="string"&&n._hint.length>0,e=[];return t===!0&&e.push(`${n._id}-error`),o===!0&&e.push(`${n._id}-hint`),{hasError:t,hasHint:o,ariaDescribedBy:e}},T=(n,t,o)=>{i(n,"_hideError",t,o)},g=(n,t)=>{i(n,"_adjustHeight",t)},y=(n,t)=>{i(n,"_touched",t)};class C extends b{constructor(t,o,e){super(t,o,e),this.component=t}validateAlert(t){i(this.component,"_alert",t)}validateTouched(t){y(this.component,t)}componentWillLoad(){super.componentWillLoad(),this.validateAlert(this.component._alert),this.validateTouched(this.component._touched)}}class I extends C{constructor(t,o,e){super(t,o,e),this.valueChangeListeners=[],this.onFacade={onBlur:this.onBlur.bind(this),onChange:this.onChange.bind(this),onClick:this.onClick.bind(this),onFocus:this.onFocus.bind(this)},this.component=t}validateAccessKey(t){s(this.component,"_accessKey",t)}validateAdjustHeight(t){g(this.component,t)}validateDisabled(t){i(this.component,"_disabled",t),t===!0&&u()}validateError(t){s(this.component,"_error",t)}validateHideLabel(t){p(this.component,t,{hooks:{afterPatch:()=>{this.component.state._hideLabel&&v("Property hide-label for inputs: Only use for exceptions like search inputs that are clearly identifiable by their context.")}}})}validateHint(t){s(this.component,"_hint",t)}validateId(t){s(this.component,"_id",t,{hooks:{afterPatch:()=>{this.setAttribute("id",this.formAssociated,this.component.state._id)}},minLength:1}),t!==""&&t!==void 0||_("Eine eindeutige ID an den Eingabefeldern ist nicht zwingend erforderlich, könnte aber für die E2E-Tests relevant sein.")}validateLabel(t){m(this.component,t)}validateOn(t){typeof t=="object"&&r(this.component,"_on",t)}validateSmartButton(t){l(t,()=>{try{t=d(t)}catch{}r(this.component,"_smartButton",t)})}validateTabIndex(t){f(this.component,t)}componentWillLoad(){super.componentWillLoad(),this.validateAccessKey(this.component._accessKey),this.validateAdjustHeight(this.component._adjustHeight),this.validateError(this.component._error),this.validateDisabled(this.component._disabled),this.validateHideLabel(this.component._hideLabel),this.validateHint(this.component._hint),this.validateId(this.component._id),this.validateLabel(this.component._label),this.validateSmartButton(this.component._smartButton),this.validateOn(this.component._on),this.validateTabIndex(this.component._tabIndex)}onBlur(t){var o;this.component._alert=!0,this.component._touched=!0,a(t),h("blur",this.host),typeof((o=this.component._on)===null||o===void 0?void 0:o.onBlur)=="function"&&this.component._on.onBlur(t)}onChange(t){var o;const e=t.target.value;a(t),h("change",this.host,e),this.setFormAssociatedValue(e),typeof((o=this.component._on)===null||o===void 0?void 0:o.onChange)=="function"&&this.component._on.onChange(t,e),this.valueChangeListeners.forEach(c=>c(e))}onClick(t){var o;a(t),h("click",this.host),typeof((o=this.component._on)===null||o===void 0?void 0:o.onClick)=="function"&&this.component._on.onClick(t)}onFocus(t){var o;this.component._alert=!0,a(t),h("focus",this.host),typeof((o=this.component._on)===null||o===void 0?void 0:o.onFocus)=="function"&&this.component._on.onFocus(t)}setValue(t,o){var e;this.setFormAssociatedValue(o),typeof((e=this.component._on)===null||e===void 0?void 0:e.onChange)=="function"&&this.component._on.onChange(t,o)}addValueChangeListener(t){this.valueChangeListeners.push(t)}}export{I as g,T as p,F as v};
