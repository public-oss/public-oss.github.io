import{U as p,O as a,C as b}from"./index-294842fb.js";import{D as d,T as u}from"./prop.validators-125a3282-9e7c3ce9.js";import{o as _}from"./hide-label-2c0bf25c-d19bd65c.js";import{f as v}from"./label-0d258cd5-df9469c6.js";import{u as k,r as m}from"./a11y.tipps-583a2096-ea796d66.js";import{a as h,n as y}from"./unique-nav-labels-c6750f60-49f40b51.js";import{s as f}from"./validation-61e035d7-e6269a07.js";/*!
 * KoliBri - The accessible HTML-Standard
 */const L=(t,i)=>{u(t,"_collapsible",i)},g=":host{--a11y-min-size:44px;font-size:inherit}*{font-family:Verdana;hyphens:auto;letter-spacing:inherit;word-break:break-word;word-spacing:inherit}[role='button'],button:not([role='link']),kol-input .input{min-height:var(--a11y-min-size);min-width:var(--a11y-min-size)}a,button,h1,h2,h3,h4,h5,h6,input,option,select,textarea{font-family:inherit;font-size:inherit}:is(a,button){background-color:transparent;border:none;margin:0;padding:0;width:100%;}:host{max-width:100%}*{box-sizing:border-box}kol-span-wc{display:grid;place-items:center}kol-span-wc>span{display:flex;place-items:center}a,button{cursor:pointer}button,input,option,select,textarea{font-family:inherit}.icon-only>kol-span-wc>span>span{display:none}:host>div{display:grid;place-items:center}nav{width:100%}.list{display:flex;list-style:none;margin:0;padding:0}.list.vertical{flex-direction:column}.entry{display:flex}.entry kol-button-wc:first-child,.entry kol-link-wc,.entry kol-span-wc{flex-grow:1}.entry kol-span-wc{justify-items:start}",w=class{constructor(t){p(this,t),this.onClick=i=>{i._active=!i._active,this.state=Object.assign({},this.state)},this.hasActiveChild=i=>!!(Array.isArray(i._children)&&i._children.length>0)&&i._children.some(this.hasActiveChild),this.linkList=i=>a("ul",{class:"list "+(i.deep===0&&i.orientation==="horizontal"?" horizontal":" vertical"),"data-deep":i.deep},i.links.map((e,n)=>this.li(i.collapsible,i.hideLabel,i.deep,n,e,i.orientation))),this._ariaCurrentValue=!1,this._collapsible=!0,this._hideLabel=!1,this._label=void 0,this._links=void 0,this._orientation="vertical",this.state={_ariaCurrentValue:!1,_collapsible:!0,_hideLabel:!1,_label:"…",_links:[],_orientation:"vertical"}}entry(t,i,e,n,l){return a("div",{class:{entry:!0,"hide-label":i}},a("kol-button-link-text-switch",{_link:Object.assign(Object.assign({},n),{_hideLabel:i})}),e?this.expandButton(t,n,l):"")}expandButton(t,i,e){return a("kol-button-wc",{class:"expand-button",_ariaExpanded:e,_disabled:!t,_icons:"codicon codicon-"+(e?"remove":"add"),_hideLabel:!0,_label:`Untermenü zu ${i._label} ${e?"schließen":"öffnen"}`,_on:{onClick:()=>this.onClick(i)}})}li(t,i,e,n,l,c){const s=!!l._active,r=Array.isArray(l._children)&&l._children.length>0,o=r&&s;return a("li",{class:{active:s,expanded:o,"has-children":r},key:n},this.entry(t,i,r,l,s),o?a(this.linkList,{collapsible:t,hideLabel:i,deep:e+1,links:l._children||[],orientation:c}):"")}render(){const t=this.state._collapsible===!0,i=this.state._hideLabel===!0,e=this.state._orientation;return a(b,null,a("div",{class:{[e]:!0}},a("nav",{"aria-label":this.state._label,id:"nav"},a(this.linkList,{collapsible:t,hideLabel:i,deep:0,links:this.state._links,orientation:e}))))}validateAriaCurrentValue(t){d(this,"_ariaCurrentValue",i=>i===!0||i==="date"||i==="location"||i==="page"||i==="step"||i==="time",new Set(["boolean","String {data, location, page, step, time}"]),t)}validateCollapsible(t){L(this,t)}validateHideLabel(t){_(this,t)}validateLabel(t,i,e=!1){e||h(this.state._label),v(this,t),k(t),y(this.state._label)}validateLinks(t){f("KolNav",this,t),m("[KolNav] Die Navigationsstruktur wird noch nicht rekursiv validiert.")}validateOrientation(t){d(this,"_orientation",i=>i==="horizontal"||i==="vertical",new Set(["Orientation {horizontal, vertical}"]),t,{defaultValue:"vertical"})}componentWillLoad(){this.validateAriaCurrentValue(this._ariaCurrentValue),this.validateCollapsible(this._collapsible),this.validateHideLabel(this._hideLabel),this.validateLabel(this._label,void 0,!0),this.validateLinks(this._links),this.validateOrientation(this._orientation)}disconnectedCallback(){h(this.state._label)}static get watchers(){return{_ariaCurrentValue:["validateAriaCurrentValue"],_collapsible:["validateCollapsible"],_hideLabel:["validateHideLabel"],_label:["validateLabel"],_links:["validateLinks"],_orientation:["validateOrientation"]}}};w.style={default:g};export{w as kol_nav};
